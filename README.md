# ä¸­é€šå¿«é€’æ™ºèƒ½æŠ¥ä»·ç³»ç»Ÿ

ä¸€ä¸ªåŸºäº React + FastAPI çš„ç°ä»£åŒ–å¿«é€’æŠ¥ä»·ç®¡ç†ç³»ç»Ÿ,æ”¯æŒå¤šç§æŠ¥ä»·æ¨¡å¼ã€ä»·æ ¼ç®¡ç†ã€æ¡æ¬¾å®šåˆ¶å’Œå¤šæ ¼å¼å¯¼å‡ºã€‚

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

ä¸­é€šå¿«é€’æ™ºèƒ½æŠ¥ä»·ç³»ç»Ÿæ˜¯ä¸ºä¸­é€šå¿«é€’é‡èº«å®šåˆ¶çš„æŠ¥ä»·å•ç®¡ç†å·¥å…·,æä¾›äº†å®Œæ•´çš„æŠ¥ä»·æµç¨‹ç®¡ç†,ä»åˆ›å»ºã€ç¼–è¾‘åˆ°å¯¼å‡ºçš„ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆã€‚

### æ ¸å¿ƒåŠŸèƒ½

- âœ… **æŠ¥ä»·å•ç®¡ç†** - åˆ›å»ºã€æŸ¥çœ‹ã€ç¼–è¾‘ã€å¤åˆ¶ã€åˆ é™¤æŠ¥ä»·å•
- âœ… **æ™ºèƒ½ä»·æ ¼ç¼–è¾‘å™¨** - æ”¯æŒé€šç¥¨ã€å¤§å®¢æˆ·ã€ä»“é…ä¸‰ç§æ¨¡å¼
- âœ… **æ¨¡æ¿ç³»ç»Ÿ** - å¯ä¿å­˜å’Œå¤ç”¨ä»·æ ¼æ¨¡æ¿
- âœ… **æ¡æ¬¾ç®¡ç†** - å›ºå®šæ¡æ¬¾ã€å¯é€‰æ¡æ¬¾ã€è‡ªå®šä¹‰æ¡æ¬¾
- âœ… **å¤šæ ¼å¼å¯¼å‡º** - HTMLã€Excelã€PDFä¸‰ç§æ ¼å¼
- âœ… **ç”¨æˆ·æƒé™** - ç®¡ç†å‘˜å’Œæ“ä½œå‘˜ä¸¤ç§è§’è‰²

## ğŸš€ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **React 18** - ç”¨æˆ·ç•Œé¢æ¡†æ¶
- **TypeScript 5** - ç±»å‹å®‰å…¨
- **Vite 5** - æ„å»ºå·¥å…·
- **Ant Design 5** - UIç»„ä»¶åº“
- **React Router 6** - è·¯ç”±ç®¡ç†
- **Zustand 4** - çŠ¶æ€ç®¡ç†
- **Axios** - HTTPå®¢æˆ·ç«¯

### åç«¯
- **FastAPI** - Python Webæ¡†æ¶
- **SQLAlchemy 2.0** - ORM
- **PostgreSQL 18** - æ•°æ®åº“
- **Alembic** - æ•°æ®åº“è¿ç§»
- **JWT** - èº«ä»½è®¤è¯
- **WeasyPrint** - PDFç”Ÿæˆ

## ğŸ“¦ ç³»ç»Ÿè¦æ±‚

### å¼€å‘ç¯å¢ƒ
- Node.js >= 18
- Python >= 3.13
- PostgreSQL >= 18
- Git

### ç”Ÿäº§ç¯å¢ƒ
- Docker & Docker Compose (æ¨è)
- æˆ–æ‰‹åŠ¨éƒ¨ç½²éœ€è¦ä¸Šè¿°æ‰€æœ‰ä¾èµ–

## ğŸ› ï¸ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€: Docker éƒ¨ç½² (æ¨è)

#### 1. å®‰è£… Docker

è¯·å‚è€ƒ [Docker å®˜æ–¹æ–‡æ¡£](https://docs.docker.com/engine/install/) å®‰è£… Docker å’Œ Docker Composeã€‚

#### 2. å…‹éš†é¡¹ç›®å¹¶é…ç½®

```bash
git clone https://github.com/wuxiaoxia88/ztoquotation.git
cd ztoquotation/zto-quote-system

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
nano .env  # ä¿®æ”¹æ•°æ®åº“å¯†ç å’ŒJWTå¯†é’¥
```

#### 3. ä¸€é”®å¯åŠ¨

```bash
# ä½¿ç”¨éƒ¨ç½²è„šæœ¬
chmod +x scripts/deploy.sh
./scripts/deploy.sh

# æˆ–æ‰‹åŠ¨å¯åŠ¨
docker compose up -d
```

#### 4. è®¿é—®ç³»ç»Ÿ

- å‰ç«¯: http://localhost
- åç«¯API: http://localhost:8002
- APIæ–‡æ¡£: http://localhost:8002/docs

é»˜è®¤è´¦å·:
- ç”¨æˆ·å: `admin`
- å¯†ç : `admin123`

è¯¦ç»†éƒ¨ç½²æ–‡æ¡£è¯·æŸ¥çœ‹ [DEPLOYMENT.md](docs/DEPLOYMENT.md)

### æ–¹å¼äºŒ: æ‰‹åŠ¨éƒ¨ç½²

#### 1. å…‹éš†é¡¹ç›®

\`\`\`bash
git clone https://github.com/wuxiaoxia88/ztoquotation.git
cd ztoquotation/zto-quote-system
\`\`\`

#### 2. ç¯å¢ƒé…ç½®

##### åç«¯é…ç½®

\`\`\`bash
cd backend

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Linux/Mac
# æˆ–
venv\\Scripts\\activate  # Windows

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶,é…ç½®æ•°æ®åº“è¿æ¥
\`\`\`

\`.env\` æ–‡ä»¶ç¤ºä¾‹:
\`\`\`env
DATABASE_URL=postgresql://user:password@localhost:5432/zto_quote
SECRET_KEY=your-secret-key-here
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=43200
\`\`\`

##### å‰ç«¯é…ç½®

\`\`\`bash
cd frontend

# å®‰è£…ä¾èµ–
npm install
\`\`\`

#### 3. å¯åŠ¨æœåŠ¡

##### å¯åŠ¨åç«¯

\`\`\`bash
cd backend
uvicorn app.main:app --reload --host 0.0.0.0 --port 8002
\`\`\`

åç«¯æœåŠ¡: http://localhost:8002
APIæ–‡æ¡£: http://localhost:8002/docs

##### å¯åŠ¨å‰ç«¯

\`\`\`bash
cd frontend
npm run dev
\`\`\`

å‰ç«¯æœåŠ¡: http://localhost:1111

#### 4. ç™»å½•ç³»ç»Ÿ

é»˜è®¤è´¦å·:
- ç”¨æˆ·å: \`admin\`
- å¯†ç : \`admin123\`

## ğŸ³ Docker å‘½ä»¤

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker compose ps

# æŸ¥çœ‹æ—¥å¿—
docker compose logs -f

# åœæ­¢æœåŠ¡
docker compose down

# é‡å¯æœåŠ¡
docker compose restart

# è¿›å…¥å®¹å™¨
docker compose exec backend bash
docker compose exec frontend sh

# æ•°æ®åº“å¤‡ä»½
./scripts/backup.sh

# æ•°æ®åº“æ¢å¤
./scripts/restore.sh backups/zto_quote_20250130_020000.sql.gz

# å¥åº·æ£€æŸ¥
./scripts/health-check.sh
```

## ğŸ“± åŠŸèƒ½è¯´æ˜

### 1. æŠ¥ä»·å•ç®¡ç†

#### åˆ›å»ºæŠ¥ä»·å• (6æ­¥å‘å¯¼)
1. **å®¢æˆ·ä¿¡æ¯** - å¡«å†™å®¢æˆ·åç§°ã€è”ç³»äººã€ç”µè¯ç­‰
2. **é€‰æ‹©æ¨¡æ¿** - é€‰æ‹©æŠ¥ä»·æ¨¡æ¿ç±»å‹(é€šç¥¨/å¤§å®¢æˆ·/ä»“é…)
3. **ç¼–è¾‘ä»·æ ¼** - ä½¿ç”¨ä»·æ ¼ç¼–è¾‘å™¨è®¾ç½®ä»·æ ¼
4. **é€‰æ‹©æ¡æ¬¾** - é€‰æ‹©å›ºå®šæ¡æ¬¾ã€å¯é€‰æ¡æ¬¾æˆ–æ·»åŠ è‡ªå®šä¹‰æ¡æ¬¾
5. **æŠ¥ä»·ä¿¡æ¯** - é€‰æ‹©æŠ¥ä»·äººã€è®¾ç½®æ—¥æœŸå’Œæœ‰æ•ˆæœŸ
6. **é¢„è§ˆä¿å­˜** - é¢„è§ˆæ‰€æœ‰ä¿¡æ¯å¹¶ä¿å­˜

#### ä»·æ ¼ç¼–è¾‘å™¨

**é€šç¥¨æ¨¡å¼:**
- åŒºåŸŸä»·æ ¼è¡¨æ ¼(6ä¸ªåŒºåŸŸ)
- çœä»½å•ç‹¬å®šä»·(34ä¸ªçœä»½å¯è¦†ç›–åŒºåŸŸä»·æ ¼)
- æ‰¹é‡è°ƒæ•´(+/-10%ã€+/-1å…ƒ)

**å¤§å®¢æˆ·æ¨¡å¼:**
- é‡é‡æ®µä»·æ ¼è¡¨æ ¼(å¯åŠ¨æ€å¢åˆ )
- è‡ªå®šä¹‰é‡é‡æ®µèŒƒå›´
- æ‰¹é‡è°ƒæ•´åŠŸèƒ½

### 2. æ¨¡æ¿ç®¡ç†

- åˆ›å»º/ç¼–è¾‘ä»·æ ¼æ¨¡æ¿
- è®¾ç½®é»˜è®¤æ¨¡æ¿(åŒç±»å‹äº’æ–¥)
- æ¨¡æ¿åˆ†ç±»ç®¡ç†(é€šç¥¨/å¤§å®¢æˆ·/ä»“é…)

### 3. å¯¼å‡ºåŠŸèƒ½

æ”¯æŒä¸‰ç§æ ¼å¼:
- **HTML** - åœ¨çº¿é¢„è§ˆ
- **Excel** - æ•°æ®è¡¨æ ¼
- **PDF** - æ‰“å°ç‰ˆæœ¬

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

\`\`\`
zto-quote-system/
â”œâ”€â”€ backend/                 # åç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ alembic/            # æ•°æ®åº“è¿ç§»
â”‚   â”œâ”€â”€ app/                # åº”ç”¨ä»£ç 
â”‚   â”‚   â”œâ”€â”€ api/           # APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ models/        # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ schemas/       # Pydanticæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ main.py        # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ requirements.txt    # Pythonä¾èµ–
â”‚
â”œâ”€â”€ frontend/               # å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/    # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/         # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/      # APIæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ stores/        # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ types/         # TypeScriptç±»å‹
â”‚   â”‚   â””â”€â”€ App.tsx        # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ package.json       # Nodeä¾èµ–
â”‚
â””â”€â”€ docs/                   # æ–‡æ¡£
\`\`\`

## ğŸ“Š APIæ–‡æ¡£

å®Œæ•´APIæ–‡æ¡£: http://localhost:8002/docs

### ä¸»è¦æ¥å£

- \`POST /api/v1/auth/login\` - ç”¨æˆ·ç™»å½•
- \`GET /api/v1/quotes\` - è·å–æŠ¥ä»·å•åˆ—è¡¨
- \`POST /api/v1/quotes\` - åˆ›å»ºæŠ¥ä»·å•
- \`GET /api/v1/quotes/{id}\` - è·å–æŠ¥ä»·å•è¯¦æƒ…
- \`GET /api/v1/exports/quotes/{id}/export/excel\` - å¯¼å‡ºExcel

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-12-30)

- âœ… å®Œæ•´çš„æŠ¥ä»·å•ç®¡ç†ç³»ç»Ÿ
- âœ… 6æ­¥å‘å¯¼åˆ›å»ºæµç¨‹
- âœ… æ™ºèƒ½ä»·æ ¼ç¼–è¾‘å™¨
- âœ… æ¨¡æ¿ç³»ç»Ÿ
- âœ… å¤šæ ¼å¼å¯¼å‡º
- âœ… ç”¨æˆ·æƒé™ç®¡ç†

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç !

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ‘¥ è”ç³»æ–¹å¼

- é¡¹ç›®ç»´æŠ¤: [wuxiaoxia88](https://github.com/wuxiaoxia88)
- é—®é¢˜åé¦ˆ: [Issues](https://github.com/wuxiaoxia88/ztoquotation/issues)

---

**ç”± Claude Code ååŠ©å¼€å‘** ğŸ¤–
